name: Update Quote of the Day

on:
  schedule:
    - cron: '0 0 * * *' # Runs daily at midnight UTC
  workflow_dispatch: # Allows manual triggering from the Actions tab

jobs:
  update-quote:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up environment
        run: sudo apt-get update && sudo apt-get install -y jq

      - name: Fetch and print quote
        run: |
          # Fetch the quote of the day
          QUOTE_JSON=$(curl -s https://zenquotes.io/api/today)
          
          # Print the raw JSON response
          echo "Raw API response:"
          echo "$QUOTE_JSON"
          
          # Parse the quote and author
          QUOTE=$(echo "$QUOTE_JSON" | jq -r '.[0].q')
          AUTHOR=$(echo "$QUOTE_JSON" | jq -r '.[0].a')

          # Print the parsed quote and author
          echo "Quote: $QUOTE"
          echo "Author: $AUTHOR"
